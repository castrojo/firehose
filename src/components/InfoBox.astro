---
interface Link {
  text: string;
  url: string;
  external?: boolean;
  rss?: boolean;
}

interface Props {
  title: string;
  description?: string;
  links: Link[];
}

const { title, description, links } = Astro.props;
---

<div class="info-box">
  <h2 class="sidebar-heading">{title}</h2>
  {description && <p class="info-description">{description}</p>}
  <ul class="info-links">
    {links.map(link => (
      <li>
        <a 
          href={link.url} 
          target={link.external ? "_blank" : undefined}
          rel={link.external ? "noopener noreferrer" : undefined}
          class={link.rss ? "info-link rss-link" : "info-link"}
        >
          {link.rss && (
            <span class="rss-icon" aria-label="RSS feed">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                <path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/>
              </svg>
            </span>
          )}
          {link.text}
          {link.external && (
            <span class="external-icon" aria-label="Opens in new tab">
              <svg width="12" height="12" viewBox="0 0 16 16" fill="currentColor">
                <path d="M3.75 2A1.75 1.75 0 002 3.75v8.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 12.25v-3.5a.75.75 0 00-1.5 0v3.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-8.5a.25.25 0 01.25-.25h3.5a.75.75 0 000-1.5h-3.5z"/>
                <path d="M9 1.75a.75.75 0 01.75-.75h4.5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0V3.56L8.78 8.28a.75.75 0 01-1.06-1.06l4.72-4.72H9.75A.75.75 0 019 1.75z"/>
              </svg>
            </span>
          )}
        </a>
      </li>
    ))}
  </ul>
</div>

<style>
  .info-box {
    background: var(--color-bg-default);
    border: 1px solid var(--color-border-default);
    border-radius: 6px;
    padding: 1.5rem;
  }
  
  .sidebar-heading {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--color-border-default);
  }
  
  .info-description {
    color: var(--color-text-secondary);
    font-size: 0.875rem;
    line-height: 1.5;
    margin-bottom: 1rem;
  }
  
  .info-links {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .info-link {
    color: var(--color-cncf-blue);
    text-decoration: none;
    font-size: 0.875rem;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    transition: color 0.15s ease;
  }
  
  .info-link:hover {
    text-decoration: underline;
    color: var(--color-text-primary);
  }
  
  .external-icon {
    display: inline-flex;
    opacity: 0.6;
  }
  
  .rss-link {
    color: var(--color-rss-orange);
    font-weight: 600;
  }
  
  .rss-link:hover {
    opacity: 0.8;
  }
  
  .rss-icon {
    display: inline-flex;
    margin-right: 0.375rem;
  }
  
  /* Mobile responsiveness */
  @media (max-width: 480px) {
    .info-box {
      padding: 1rem;
    }
  }
</style>
