---
interface Link {
  text: string;
  url: string;
  external?: boolean;
}

interface Props {
  title: string;
  description?: string;
  links: Link[];
}

const { title, description, links } = Astro.props;
---

<div class="info-box">
  <h2 class="sidebar-heading">{title}</h2>
  {description && <p class="info-description">{description}</p>}
  <ul class="info-links">
    {links.map(link => (
      <li>
        <a 
          href={link.url} 
          target={link.external ? "_blank" : undefined}
          rel={link.external ? "noopener noreferrer" : undefined}
          class="info-link"
        >
          {link.text}
          {link.external && (
            <span class="external-icon" aria-label="Opens in new tab">
              <svg width="12" height="12" viewBox="0 0 16 16" fill="currentColor">
                <path d="M3.75 2A1.75 1.75 0 002 3.75v8.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 12.25v-3.5a.75.75 0 00-1.5 0v3.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-8.5a.25.25 0 01.25-.25h3.5a.75.75 0 000-1.5h-3.5z"/>
                <path d="M9 1.75a.75.75 0 01.75-.75h4.5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0V3.56L8.78 8.28a.75.75 0 01-1.06-1.06l4.72-4.72H9.75A.75.75 0 019 1.75z"/>
              </svg>
            </span>
          )}
        </a>
      </li>
    ))}
  </ul>
</div>

<style>
  .info-box {
    background: var(--color-bg-default);
    border: 1px solid var(--color-border-default);
    border-radius: 6px;
    padding: 1.5rem;
  }
  
  .sidebar-heading {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--color-border-default);
  }
  
  .info-description {
    color: var(--color-text-secondary);
    font-size: 0.875rem;
    line-height: 1.5;
    margin-bottom: 1rem;
  }
  
  .info-links {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .info-link {
    color: var(--color-cncf-blue);
    text-decoration: none;
    font-size: 0.875rem;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    transition: color 0.15s ease;
  }
  
  .info-link:hover {
    text-decoration: underline;
    color: var(--color-text-primary);
  }
  
  .external-icon {
    display: inline-flex;
    opacity: 0.6;
  }
  
  /* Mobile responsiveness */
  @media (max-width: 480px) {
    .info-box {
      padding: 1rem;
    }
  }
</style>
